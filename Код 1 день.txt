using System;
using System.Threading;
using System.Threading.Tasks;
using Telegram.Bot;
using Telegram.Bot.Types;

namespace ConsoleApp1
{
    internal class Program
    {
        private static CancellationToken cancellationToken;

        static void Main(string[] args)
        {
            var client = new TelegramBotClient("5743172258:AAFAp0TskCZK8NwURic2jEbiDpplg8jNiK0");
            client.StartReceiving(Update, Error);
            Console.ReadLine();
        }
        async static Task Update(ITelegramBotClient botClient, Update update, CancellationToken arg3)
        {
            var message = update.Message;
            if (message.Text != null)
            {
                Console.WriteLine($"{message.Chat.FirstName} | {message.Text}" +
                    $" | date {message.Date}. ");
                if (message.Text.ToLower().Contains("start"))
                {
                    await botClient.SendTextMessageAsync(message.Chat.Id, "–ü—Ä–∏–≤–µ—Ç. \n–Ø —Ç–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç. \n–°–µ–π—á–∞—Å " + DateTime.Now + " –ú–°–ö. \n–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —è –∑–Ω–∞—é —Ç–æ–ª—å–∫–æ 2 —Å–ª–æ–≤–∞ \"–ü—Ä–∏–≤–µ—Ç\" –∏ \"–ö–æ–Ω—Ç–∞–∫—Ç—ã\", –Ω–∞–ø–∏—à–∏ –º–Ω–µ –∏—Ö.");
                    return;
                }

               else if (message.Text.ToLower().Contains("–ø—Ä–∏–≤–µ—Ç"))    //—Ç–µ–∫—Å—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç, —Å –ª—é–±–æ–π –±—É–∫–≤—ã –±–æ–ª—å—à–æ–π –∏–ª–∏ –º–∞–ª–µ–Ω—å–∫–æ–π, –≤–∫–ª –≤ —Å–µ–±—è Contains
                {
                    Message message1 = await botClient.SendPhotoAsync(chatId: message.Chat.Id,
                       photo: "https://sun9-81.userapi.com/impg/jARaM9ZIlzXssNBAuS_ZVg7OP4OdgxTYIrp1aQ/qyHTvB5eBpc.jpg?size=1080x1080&quality=95&sign=a474f2a2a8efd2a677d7394e4f67e21e&type=album",
                       caption: "–ü—Ä–∏–≤–µ—Çüôåüèº \n–Ø –±–æ—Ç beauty –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ \"–†—É–∫–∏ –Ω–∞–º\" ü§ç \n–Ø –∏—â—É –ø–æ–¥—Ä—É–∂–µ–∫, –∫–æ—Ç–æ—Ä—ã–º —Å–º–æ–≥—É –¥–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–∏ —Å–µ–∫—Ä–µ—Ç—ã –≤ –≤–∏–¥–µ —Å–∞–º—ã—Ö –≥–æ—Ä—è—â–∏—Ö —Å–∫–∏–¥–æ–∫ –Ω–∞ —É—Å–ª—É–≥–∏ " +
                     "–≤ beauty –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ \"–†—É–∫–∏ –Ω–∞–º\" –≥.–ö–∞–∑–∞–Ω—åüå∏ \n–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —Ç—ã –Ω–∞–¥—É–º–∞–µ—à—å —Å–¥–µ–ª–∞—Ç—å –º–∞–Ω–∏–∫—é—Ä, –ø–µ–¥–∏–∫—é—Ä –∏–ª–∏ –±—Ä–æ–≤–∫–∏, –ø—Ä–æ—Å—Ç–æ –∑–∞–≥–ª—è–Ω–∏ –∫–æ –º–Ω–µ –≤ –≥–æ—Å—Ç–∏ –∏ —è —Ç–µ–±–µ –≤—Å—ë —Ä–∞—Å—Å–∫–∞–∂—Éüòò");


                    Message message2;
                    using (var stream = System.IO.File.OpenRead("C:/users/Afif07/Documents/C#/WORK/bots/ConsoleApp1/path/213123.mp4"))  {
                        message2 = await botClient.SendVideoNoteAsync(
                            chatId: message.Chat.Id,
                            videoNote: stream,
                            duration: 47,
                            length: 360, // value of width/height
                                cancellationToken: cancellationToken);
                        return;
                    }


                }

                else if (message.Text.ToLower().Contains("–∫–æ–Ω—Ç–∞–∫—Ç—ã"))
                {
                    Message message_tel = await botClient.SendContactAsync(
    chatId: message.Chat.Id,
    phoneNumber: "+79196370606",
    firstName: "–†—É–∫–∏ –Ω–∞–º",
    vCard: "BEGIN:VCARD\n" +
           "VERSION:3.0\n" +
           "N:Solo;Han\n" +
           "TEL;TYPE=voice,work,pref:+79196370606\n" +
           "EMAIL:hansolo@mfalcon.com\n" +
           "END:VCARD",
    cancellationToken: cancellationToken);
                    Message message_kontakty = await botClient.SendVenueAsync(
      chatId: message.Chat.Id,
      latitude: 55.82326, 
      longitude: 49.07437,
      title: "–†—É–∫–∏ –Ω–∞–º",
      address: "–ö–∞–∑–∞–Ω—å, —É–ª. –°–µ—Ä–æ–≤–∞ 48 –∫2",
      cancellationToken: cancellationToken);


                    //await botClient.SendTextMessageAsync(message.Chat.Id, "krjk saadsdasd");

                    return;
                }


            }
            if (message.Photo != null)
            {
                await botClient.SendTextMessageAsync(message.Chat.Id, "–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ, –Ω–æ –ª—É—á—à–µ –æ—Ç–ø—Ä–∞–≤—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–º.");
                return;
            }
        }
        private static Task Error(ITelegramBotClient arg1, Exception arg2, CancellationToken arg3)
        {
            throw new NotImplementedException();
        }


    }
}
